<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Dijkstra’s Algorithm Animation with Manim, Part 1 | ECE 374 Videos</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="Dijkstra’s Algorithm Animation with Manim, Part 1" />
<meta property="og:locale" content="en_US" />
<meta name="description" content=" " />
<meta property="og:description" content=" " />
<link rel="canonical" href="http://localhost:4000/ECE374_Video/jekyll/update/2023/04/23/p1.html" />
<meta property="og:url" content="http://localhost:4000/ECE374_Video/jekyll/update/2023/04/23/p1.html" />
<meta property="og:site_name" content="ECE 374 Videos" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-04-23T02:05:10+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Dijkstra’s Algorithm Animation with Manim, Part 1" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-04-23T02:05:10+08:00","datePublished":"2023-04-23T02:05:10+08:00","description":" ","headline":"Dijkstra’s Algorithm Animation with Manim, Part 1","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/ECE374_Video/jekyll/update/2023/04/23/p1.html"},"url":"http://localhost:4000/ECE374_Video/jekyll/update/2023/04/23/p1.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/ECE374_Video/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/ECE374_Video/feed.xml" title="ECE 374 Videos" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/ECE374_Video/">ECE 374 Videos</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/ECE374_Video/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Dijkstra&#39;s Algorithm Animation with Manim, Part 1</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2023-04-23T02:05:10+08:00" itemprop="datePublished">Apr 23, 2023
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p> </p>

<p>In this article we’re going to discuss how to draw an animation of Dijkstra’s algorithm in Manim.</p>

<p>We want to draw an undirected, weighted graph that can be used to demonstrate Dijkstra’s algorithm.</p>

<p>To start, we would need to draw a few things:</p>

<ul>
  <li>
    <p>The vertices</p>
  </li>
  <li>
    <p>The edges</p>
  </li>
  <li>
    <p>The weights</p>
  </li>
  <li>
    <p>The distances from the starting vertex</p>
  </li>
</ul>

<p>The graph would look like this:</p>

<p><img src="https://github.com/kevtool/ECE374_Video/raw/main/docs/img/i1.png" /></p>

<p> </p>

<h3 id="before-we-begin">Before We Begin</h3>

<p>Importing the relevant packages:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">manim</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">manim.utils.color</span> <span class="kn">import</span> <span class="n">Colors</span>
</code></pre></div></div>
<p>Before we start, let’s create the class that will contain our actions. We’ll name it class Dijkstra.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Dijkstra</span><span class="p">(</span><span class="n">Scene</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">construct</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># ...
</span></code></pre></div></div>

<p> </p>

<h3 id="vertices">Vertices</h3>

<p>We’ll start with the vertices first. We will manually define a few properties for each vertex: its radius, color, opacity, and x-y coordinates. You can add or remove some of these properties if you wish, but I’m sticking to them for now.</p>

<p>Once we decide what properties we want to edit, we can create a 2D list like this:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># radius, color, opacity, X, Y
</span><span class="n">graph1_vlist</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">],</span>
                <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.8</span><span class="p">],</span>
                <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
                <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span>
                <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">],</span>
                <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">]]</span>
</code></pre></div></div>

<p>And let’s create a class to store the graph:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Graph</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene</span><span class="p">,</span> <span class="n">vertices_list</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">scene</span> <span class="o">=</span> <span class="n">scene</span>

        <span class="c1"># set up vertices
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">vertices</span> <span class="o">=</span> <span class="n">VGroup</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">add_vertices</span><span class="p">(</span><span class="n">vertices_list</span><span class="p">)</span>

        <span class="c1"># Given a list, add vertices accordingly
</span>        <span class="k">def</span> <span class="nf">add_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">rad</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">opac</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="n">rad</span><span class="p">).</span><span class="n">set_fill</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="n">opac</span><span class="p">).</span><span class="n">shift</span><span class="p">(</span><span class="n">RIGHT</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">UP</span><span class="o">*</span><span class="n">y</span><span class="p">)</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">vertices</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</code></pre></div></div>

<p>Note: RIGHT and UP are vectors defined in the manim package.</p>

<p>Here, the graph receives two inputs upon initialization: the scene, which we will use later, and the list of vertices. The list is converted via the function add_vertices to create circles representing the vertices. Now the vertices are stored in the self.vertices group.</p>

<p>Next, we’ll need to draw the vertices. We can use the Create function:</p>
<video width="740" height="417" controls="" muted="" loop="" autoplay="">
  <source src="https://github.com/kevtool/ECE374_Video/raw/main/docs/vid/v1.mp4" type="video/mp4" />
  Your browser does not support the video tag.
</video>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">c1</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">1</span><span class="p">).</span><span class="n">set_fill</span><span class="p">(</span><span class="n">WHITE</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="bp">self</span><span class="p">.</span><span class="n">play</span><span class="p">(</span><span class="n">Create</span><span class="p">(</span><span class="n">c1</span><span class="p">))</span>
</code></pre></div></div>

<p>To simultaneously create all the vertices in the self.vertices group, we’ll need to define a bunch of animations, put them in an array, and play the array.</p>

<p>The graph class now looks like this:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Graph</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene</span><span class="p">,</span> <span class="n">vertices_list</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">scene</span> <span class="o">=</span> <span class="n">scene</span>

        <span class="c1"># set up vertices
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">vertices</span> <span class="o">=</span> <span class="n">VGroup</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">add_vertices</span><span class="p">(</span><span class="n">vertices_list</span><span class="p">)</span>

        <span class="c1"># Given a list, add vertices accordingly
</span>        <span class="k">def</span> <span class="nf">add_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">rad</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">opac</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="n">rad</span><span class="p">).</span><span class="n">set_fill</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="n">opac</span><span class="p">).</span><span class="n">shift</span><span class="p">(</span><span class="n">RIGHT</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">UP</span><span class="o">*</span><span class="n">y</span><span class="p">)</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">vertices</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

    <span class="c1"># Simultaneously create all vertices
</span>    <span class="k">def</span> <span class="nf">create_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">animations</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">vertices</span><span class="p">)):</span> 
            <span class="n">animations</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">Create</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">scene</span><span class="p">.</span><span class="n">play</span><span class="p">(</span><span class="o">*</span><span class="n">animations</span><span class="p">)</span>
        
</code></pre></div></div>

<p>Notice that in the function create_vertices we have to use self.scene to refer to the Scene object in the Dijkstra class to play the animations.</p>

<p>Updating our Dijkstra class:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Dijkstra</span><span class="p">(</span><span class="n">Scene</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">construct</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="c1"># radius, color, opacity, X, Y
</span>        <span class="n">graph1_vlist</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">],</span>
                        <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.8</span><span class="p">],</span>
                        <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
                        <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span>
                        <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">],</span>
                        <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">]]</span>

        <span class="n">graph1</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph1_vlist</span><span class="p">)</span>
        <span class="n">graph1</span><span class="p">.</span><span class="n">create_vertices</span><span class="p">()</span>
</code></pre></div></div>

<p>Our animation now looks like this:</p>
<video width="740" height="417" controls="" muted="" loop="" autoplay="">
  <source src="https://github.com/kevtool/ECE374_Video/raw/main/docs/vid/v2.mp4" type="video/mp4" />
  Your browser does not support the video tag.
</video>

<p> </p>

<h3 id="edges">Edges</h3>

<p>Next, we’ll draw the edges of the graph. First, make an adjacency list for the graph:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># adjacency list
</span><span class="n">graph1_elist</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">]]</span>
</code></pre></div></div>

<p>In the Graph class, we can define a function that will convert the adjacency list to Line objects. Don’t forget to add this list to the initialization inputs in the Graph class.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">add_edges</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">:</span>
        <span class="n">l</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">v1</span><span class="p">],</span> <span class="bp">self</span><span class="p">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">v2</span><span class="p">])</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">edges</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
</code></pre></div></div>

<p>And to draw the edges:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">show_edges</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">scene</span><span class="p">.</span><span class="n">play</span><span class="p">(</span><span class="n">FadeIn</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">edges</span><span class="p">))</span>
</code></pre></div></div>

<p>To recap, our Graph class looks like this now:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Graph</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene</span><span class="p">,</span> <span class="n">vertices_list</span><span class="p">,</span> <span class="n">edges_list</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">scene</span> <span class="o">=</span> <span class="n">scene</span>

        <span class="c1"># set up vertices
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">vertices</span> <span class="o">=</span> <span class="n">VGroup</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">add_vertices</span><span class="p">(</span><span class="n">vertices_list</span><span class="p">)</span> 

        <span class="c1"># set up edges
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">edges</span> <span class="o">=</span> <span class="n">VGroup</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">add_edges</span><span class="p">(</span><span class="n">edges_list</span><span class="p">)</span>

    <span class="c1"># Given a list, add vertices accordingly
</span>    <span class="k">def</span> <span class="nf">add_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">rad</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">opac</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="n">rad</span><span class="p">).</span><span class="n">set_fill</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="n">opac</span><span class="p">).</span><span class="n">shift</span><span class="p">(</span><span class="n">RIGHT</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">UP</span><span class="o">*</span><span class="n">y</span><span class="p">)</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">vertices</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_edges</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">:</span>
            <span class="n">l</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">v1</span><span class="p">],</span> <span class="bp">self</span><span class="p">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">v2</span><span class="p">])</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">edges</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>

    <span class="c1"># Simultaneously create all vertices
</span>    <span class="k">def</span> <span class="nf">create_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">animations</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">vertices</span><span class="p">)):</span> 
            <span class="n">animations</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">Create</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">scene</span><span class="p">.</span><span class="n">play</span><span class="p">(</span><span class="o">*</span><span class="n">animations</span><span class="p">)</span>

    <span class="c1"># Show edges
</span>    <span class="k">def</span> <span class="nf">show_edges</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">scene</span><span class="p">.</span><span class="n">play</span><span class="p">(</span><span class="n">FadeIn</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">edges</span><span class="p">))</span>
</code></pre></div></div>

<p>By calling the show_edges function we defined earlier, in the Dijkstra class:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">graph1</span><span class="p">.</span><span class="n">show_edges</span><span class="p">()</span>
</code></pre></div></div>

<p>We can draw the edges like this:</p>
<video width="740" height="417" controls="" muted="" loop="" autoplay="">
  <source src="https://github.com/kevtool/ECE374_Video/raw/main/docs/vid/v3.mp4" type="video/mp4" />
  Your browser does not support the video tag.
</video>

<p> </p>

<h3 id="weights-and-distances">Weights and Distances</h3>

<p>Next up are the weights and distances. Again we can make lists for these variables. For the distances we’ll initialize them to infinity at the start, except the starting vertex whose distance will be 0.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">graph1_wlist</span> <span class="o">=</span> <span class="p">[</span>
                <span class="c1"># each entry corresponds to its line in line list
</span>                <span class="p">[</span><span class="sa">r</span><span class="s">"7"</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.8</span><span class="p">],</span>
                <span class="p">[</span><span class="sa">r</span><span class="s">"9"</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3</span><span class="p">],</span>
                <span class="p">[</span><span class="sa">r</span><span class="s">"14"</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.7</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.7</span><span class="p">],</span> 
                <span class="p">[</span><span class="sa">r</span><span class="s">"10"</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.5</span><span class="p">],</span>
                <span class="p">[</span><span class="sa">r</span><span class="s">"15"</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="mf">1.7</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.2</span><span class="p">],</span>
                <span class="p">[</span><span class="sa">r</span><span class="s">"11"</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="mf">1.9</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">],</span>
                <span class="p">[</span><span class="sa">r</span><span class="s">"2"</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span>
                <span class="p">[</span><span class="sa">r</span><span class="s">"6"</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="mf">2.7</span><span class="p">,</span> <span class="mf">1.7</span><span class="p">],</span>
                <span class="p">[</span><span class="sa">r</span><span class="s">"9"</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">],</span>

                <span class="c1"># start and end vertices
</span>                <span class="p">[</span><span class="sa">r</span><span class="s">"a"</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.6</span><span class="p">],</span>
                <span class="p">[</span><span class="sa">r</span><span class="s">"b"</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">,</span> <span class="mf">2.8</span><span class="p">]]</span>
        
<span class="n">graph1_dlist</span> <span class="o">=</span> <span class="p">[[</span><span class="sa">r</span><span class="s">"0"</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">BLUE</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.5</span><span class="p">],</span>
                <span class="p">[</span><span class="sa">r</span><span class="s">"inf"</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">BLUE</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.3</span><span class="p">],</span>
                <span class="p">[</span><span class="sa">r</span><span class="s">"inf"</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">BLUE</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">],</span>
                <span class="p">[</span><span class="sa">r</span><span class="s">"inf"</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">BLUE</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span>
                <span class="p">[</span><span class="sa">r</span><span class="s">"inf"</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">BLUE</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span>
                <span class="p">[</span><span class="sa">r</span><span class="s">"inf"</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">BLUE</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]]</span>
</code></pre></div></div>

<p>If you wish, you can also combine the edges list and the weights list, since they will be unchanged throughout the video and the weights correspond to the edges. But I’m going to leave them like this for now.</p>

<p>Once again we can convert them to objects in Manim, this time Tex objects. (You can also use other text objects in Manim.)</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">add_weights</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">string</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">:</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">Tex</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">col</span><span class="p">).</span><span class="n">shift</span><span class="p">(</span><span class="n">RIGHT</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">UP</span><span class="o">*</span><span class="n">y</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">weights</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    
<span class="k">def</span> <span class="nf">add_dists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">string</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">:</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">Tex</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">col</span><span class="p">).</span><span class="n">shift</span><span class="p">(</span><span class="n">RIGHT</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">UP</span><span class="o">*</span><span class="n">y</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">dists</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</code></pre></div></div>

<p>Define some functions in the Graph class so we can show them:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">ShowWeights</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">scene</span><span class="p">.</span><span class="n">play</span><span class="p">(</span><span class="n">FadeIn</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">weights</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">ShowDists</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">scene</span><span class="p">.</span><span class="n">play</span><span class="p">(</span><span class="n">FadeIn</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">dists</span><span class="p">))</span>
</code></pre></div></div>

<p>Now in the Dijkstra class, call the functions:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">graph1</span><span class="p">.</span><span class="n">ShowWeights</span><span class="p">()</span>
<span class="n">graph1</span><span class="p">.</span><span class="n">ShowDists</span><span class="p">()</span>
</code></pre></div></div>

<p>The video now looks like this:</p>
<video width="740" height="417" controls="" muted="" loop="" autoplay="">
  <source src="https://github.com/kevtool/ECE374_Video/raw/main/docs/vid/v4.mp4" type="video/mp4" />
  Your browser does not support the video tag.
</video>

<p>We’ve drawn the graph, but we still have more animation to do. Continue to <a href="https://kevtool.github.io/ECE374_Video/jekyll/update/2023/05/02/p1.html">part 2 here</a>.</p>


  </div><a class="u-url" href="/ECE374_Video/jekyll/update/2023/04/23/p1.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/ECE374_Video/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">ECE 374 Videos</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">ECE 374 Videos</li><li><a class="u-email" href="mailto:kevinlim9171@gmail.com">kevinlim9171@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/kevtool"><svg class="svg-icon"><use xlink:href="/ECE374_Video/assets/minima-social-icons.svg#github"></use></svg> <span class="username">kevtool</span></a></li><li><a href="https://www.twitter.com/"><svg class="svg-icon"><use xlink:href="/ECE374_Video/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username"></span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Site of ECE 374 Videos. ECE 374 is a course in UIUC on Algorithms and Models of Computations. By Kevin Lim.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
